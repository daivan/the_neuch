<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Neuch</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="start-screen" class="start-screen">
    <div class="start-content">
      <h1 class="game-title">The Neuch</h1>
      <p class="game-subtitle">It's all in the frame data</p>
      <div class="menu">
        <button type="button" class="menu-btn" id="btn-campaign">Campaign</button>
        <button type="button" class="menu-btn disabled" disabled>Online</button>
        <button type="button" class="menu-btn" id="btn-practice">Practice</button>
      </div>
    </div>
  </div>

  <div id="game-container" class="game-container" style="display: none;">
    <header class="game-header">
      <div class="player-info player1-info">
        <span class="player-name">P1</span>
        <div class="health-bar">
          <div class="health-fill" id="p1-health"></div>
        </div>
        <span class="health-text" id="p1-health-text">100</span>
      </div>
      <div class="turn-indicator" id="turn-indicator">P1's Turn</div>
      <div class="player-info player2-info">
        <span class="player-name">P2</span>
        <div class="health-bar">
          <div class="health-fill" id="p2-health"></div>
        </div>
        <span class="health-text" id="p2-health-text">100</span>
      </div>
    </header>

    <main class="arena">
      <div class="grid" id="grid">
        <!-- 5 cols x 3 rows, filled by JS -->
      </div>
      <div class="avatar avatar-p1" id="avatar-p1">P1
        <div class="hurtbox"></div>
        <div class="hitbox"></div>
      </div>
      <div class="avatar avatar-p2" id="avatar-p2">P2
        <div class="hurtbox"></div>
        <div class="hitbox"></div>
      </div>
    </main>

    <section class="options-panel">
      <h2 class="options-title">Options</h2>
      <div class="options-content" id="options-content">
        <p class="options-hint" id="options-hint">Move or attack.</p>
      </div>
    </section>

    <section class="hit-subgame" id="hit-subgame" style="display: none;">
      <h2 class="subgame-title" id="hit-subgame-title">HIT!</h2>
      <div class="subgame-players">
        <div class="subgame-p1" id="subgame-p1">
          <span class="subgame-player-badge">P1 (<span id="subgame-role-p1"></span>)</span>
          <div class="subgame-buttons" id="subgame-buttons-p1"></div>
          <span class="subgame-status" id="subgame-status-p1"></span>
        </div>
        <div class="subgame-p2" id="subgame-p2">
          <span class="subgame-player-badge">P2 (<span id="subgame-role-p2"></span>)</span>
          <div class="subgame-buttons" id="subgame-buttons-p2"></div>
          <span class="subgame-status" id="subgame-status-p2"></span>
        </div>
      </div>
    </section>

    <section class="frame-data-panel">
      <h2 class="frame-data-title">Your plan — 30 frames (drag actions here, then Go)</h2>
      <div class="frame-plan-row">
        <span class="frame-player-badge p1-badge">P1</span>
        <div class="frame-plan-bar-wrap" id="frame-plan-wrap-p1">
          <div class="frame-plan-bar" id="frame-plan-bar-p1">
            <!-- 30 frame slots filled by JS -->
          </div>
          <div class="frame-bar-cursor frame-plan-cursor" id="frame-plan-cursor-p1" aria-hidden="true"></div>
        </div>
      </div>
      <div class="frame-plan-row">
        <span class="frame-player-badge p2-badge">P2</span>
        <div class="frame-plan-bar-wrap" id="frame-plan-wrap-p2">
          <div class="frame-plan-bar" id="frame-plan-bar-p2">
            <!-- 30 frame slots filled by JS -->
          </div>
          <div class="frame-bar-cursor frame-plan-cursor" id="frame-plan-cursor-p2" aria-hidden="true"></div>
        </div>
      </div>
      <div class="frame-data-rows frame-execution-rows">
        <div class="frame-row frame-row-p1">
          <span class="frame-player-badge p1-badge">P1</span>
          <span class="frame-action-label" id="frame-label-p1">—</span>
          <div class="frame-bar-wrap">
            <div class="frame-bar" id="frame-bar-p1" aria-hidden="true"></div>
            <div class="frame-bar-cursor" id="frame-cursor-p1" aria-hidden="true"></div>
          </div>
        </div>
        <div class="frame-row frame-row-p2">
          <span class="frame-player-badge p2-badge">P2</span>
          <span class="frame-action-label" id="frame-label-p2">—</span>
          <div class="frame-bar-wrap">
            <div class="frame-bar" id="frame-bar-p2" aria-hidden="true"></div>
            <div class="frame-bar-cursor" id="frame-cursor-p2" aria-hidden="true"></div>
          </div>
        </div>
      </div>
      <div class="preview-slider-container">
        <label for="preview-slider" class="preview-label">Preview Frame:</label>
        <input type="range" id="preview-slider" class="preview-slider" min="0" max="30" value="0" step="1">
        <span id="preview-frame-display" class="preview-frame-display">0 / 30</span>
      </div>
    </section>

    <section class="controller">
      <h2 class="controller-title">Drag actions to the 30-frame bar above, then press Go</h2>
      <div class="attacks-drag">
        <span class="drag-label">Actions (drag to bar):</span>
        <div class="direction-buttons">
          <button type="button" class="dir-btn dir-up draggable" id="btn-jump" draggable="true" data-action="jump"
            title="5 active frames">▲ Jump (5f)</button>
          <div class="dir-mid">
            <button type="button" class="dir-btn dir-left draggable" id="btn-left" draggable="true" data-action="left">◀
              (1f)</button>
            <span class="dir-center"></span>
            <button type="button" class="dir-btn dir-right draggable" id="btn-right" draggable="true"
              data-action="right">▶ (1f)</button>
          </div>
          <button type="button" class="dir-btn dir-down draggable" id="btn-down" draggable="true" data-action="down">▼
            (1f)</button>
        </div>
        <button type="button" class="attack-btn light draggable" id="btn-light" draggable="true"
          data-action="light">Light (16f)</button>
        <button type="button" class="attack-btn block draggable" id="btn-block" draggable="true"
          data-action="block">Block (1f)</button>
        <button type="button" class="attack-btn medium draggable" id="btn-medium" draggable="true"
          data-action="medium">Medium (33f)</button>
        <button type="button" class="attack-btn heavy draggable" id="btn-heavy" draggable="true"
          data-action="heavy">Heavy (48f)</button>
      </div>
      <div class="go-area">
        <button type="button" class="go-btn" id="btn-go">Go</button>
      </div>
    </section>
  </div>

  <script src="shared.js"></script>
  <script src="utils.js"></script>
  <script src="engine.js"></script>
  <script src="ui.js"></script>
  <script src="campaign.js"></script>
  <script src="main.js"></script>
</body>

</html>